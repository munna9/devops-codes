/* <%=node['phenom']['banner']%> */

/**
* Services added defined based on chef-nodes.
*/

apply Service "ssh" {
  import "chef-service"
  check_command = "ssh"
  display_name ="SSH service"
  assign where (host.address || host.address6) && host.vars.platform
}
apply Service "swap" {
  import "chef-service"
  check_command = "swap"
  assign where host.vars.platform
}
apply Service "users" {
  import "chef-service"
  check_command = "users"
  assign where host.vars.platform
}
apply Service "icinga" {
  import "chef-service"
  check_command = "icinga"
  assign where "master-icinga" in host.vars.roles
}
apply Service "load" {
  import "chef-service"
  check_command = "load"
  assign where host.vars.platform
}
//#Array Example
//apply Service "Disk space " for (partition in host.vars.partitions) {
//  import "chef-service"
//  check_command = "snmp"
//  vars.snmp_oid=".1.3.6.1.4.1.2021.9.1.7.1"
//  assign where host.address && host.vars.os == "Linux"
//}
